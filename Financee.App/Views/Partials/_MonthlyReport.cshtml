@{
    ViewData["Title"] = "Месечен отчет";
}
@using System.Globalization
@model Financee.Common.ViewModels.MoneyFlowViewModel
@{ decimal sumExpenditure = 0;}
@{ decimal sumIncome = 0;}
<section id="posts">
    <div class="row">
        <div class="col-md-5">
            <div class="card">
                <div class="card-header">
                    <h4>Разходи за месец @Model.Expenditures.First().Date.ToString("MMMM", new CultureInfo("bg-BG")).ToUpper()</h4>
                </div>
                <table class="table table-striped">
                    <thead class="thead-inverse">
                        <tr>
                            <th>Ден от седмицата</th>
                            <th class="text-center">Дата</th>
                            <th class="text-right">Разход</th>
                            <th>За какво е направен</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var expenditure in Model.Expenditures)
                        {
                            <tr>
                                <td scope="row">@expenditure.WeekDay</td>
                                <td>@expenditure.Date.ToString("dd MMMM yyyy", new CultureInfo("bg-BG"))</td>
                                <td class="text-right">@expenditure.Expenditure лв</td>
                                <td>@expenditure.WhatIsmadeFor</td>
                                <td>
                                    <a href="details.html" class="btn btn-secondary">
                                        <i class="fa fa-angle-double-right"></i> Изтрий
                                    </a>
                                </td>
                            </tr>
                            sumExpenditure += expenditure.Expenditure;
                        }
                    </tbody>
                </table>
            </div>
            <hr />
            <div>
                <h1 class="bg-primary text-white text-center">Общо разходи за месеца: @sumExpenditure лв</h1>
            </div>
        </div>
        <div class="col-md-2">
            <div class="card text-center bg-primary text-white mb-3">
                <div class="card-body">
                    <h3>Posts</h3>
                    <h1 class="display-4">
                        <i class="fa fa-pencil"></i> 6
                    </h1>
                    <a href="posts.html" class="btn btn-outline-light btn-sm">View</a>
                </div>
            </div>

            <div class="card text-center bg-success text-white mb-3">
                <div class="card-body">
                    <h3>Categories</h3>
                    <h1 class="display-4">
                        <i class="fa fa-folder-open-o"></i> 4
                    </h1>
                    <a href="categories.html" class="btn btn-outline-light btn-sm">View</a>
                </div>
            </div>

            <div class="card text-center bg-warning text-white mb-3">
                <div class="card-body">
                    <h3>Users</h3>
                    <h1 class="display-4">
                        <i class="fa fa-users"></i> 2
                    </h1>
                    <a href="users.html" class="btn btn-outline-light btn-sm">View</a>
                </div>
            </div>
        </div>
        <div class="col-md-5">
            <div class="card">
                <div class="card-header">
                    <h4>Приходи за месец @Model.Expenditures.First().Date.ToString("MMMM", new CultureInfo("bg-BG")).ToUpper()</h4>
                </div>
                <table class="table table-striped">
                    <thead class="thead-inverse">
                        <tr>
                            <th>Ден от седмицата</th>
                            <th class="text-center">Дата</th>
                            <th class="text-right">Приход</th>
                            <th>Откъде е дошъл</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var income in Model.Incomes)
                        {
                            <tr>
                                <td scope="row">@income.WeekDay</td>
                                <td>@income.Date.ToString("dd MMMM yyyy", new CultureInfo("bg-BG"))</td>
                                <td class="text-right">@income.Income лв</td>
                                <td>@income.WhereFrom</td>
                                <td>
                                    <a href="details.html" class="btn btn-secondary">
                                        <i class="fa fa-angle-double-right"></i> Изтрий
                                    </a>
                                </td>
                            </tr>
                            sumIncome += income.Income;
                        }
                    </tbody>
                </table>
            </div>
            <hr />
            <div>
                <h1 class="bg-primary text-white text-center">Общо приходи за месеца: @sumIncome лв</h1>
            </div>
        </div>
    </div>
</section>